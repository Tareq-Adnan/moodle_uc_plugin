{"version":3,"file":"confirmdelete.min.js","sources":["../src/confirmdelete.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Confirm modal before delete.\n *\n * @module     local_upcommingcourse/confirmdelete\n * @copyright  2023\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\ndefine([\n    'jquery',\n    'core/ajax',\n    'core/str',\n    'core/modal_factory',\n    'core/modal_events',\n    'core/notification'\n], function ($,\n    Ajax,\n    str,\n    ModalFactory,\n    ModalEvents,\n    Notification) {\n\n    $('.delete-btn').on('click', function () {\n        let id = $(this).data('id');\n        // eslint-disable-next-line promise/catch-or-return\n        ModalFactory.create({\n            type: ModalFactory.types.SAVE_CANCEL,\n            title: \"Delete Entry\",\n            body: \"Confirm Delete?\"\n\n            // eslint-disable-next-line promise/always-return\n        }).then(function (modal) {\n            modal.setSaveButtonText(\"DELETE\");\n            let root = modal.getRoot();\n            root.on(ModalEvents.save, function () {\n                let wsfunction = 'local_upcommingcourse_delete_entry_by_id';\n                let params = {\n                    'id': id,\n                };\n                let request = {\n                    methodname: wsfunction,\n                    args: params,\n                };\n                Ajax.call([request])[0].done(function () {\n                    window.location.href = $(location).attr('href');\n                }).fail(Notification.exception);\n            });\n            modal.show();\n        });\n    });\n\n\n});"],"names":["define","$","Ajax","str","ModalFactory","ModalEvents","Notification","on","id","this","data","create","type","types","SAVE_CANCEL","title","body","then","modal","setSaveButtonText","getRoot","save","request","methodname","args","call","done","window","location","href","attr","fail","exception","show"],"mappings":";;;;;;;AAsBAA,6CAAO,CACH,SACA,YACA,WACA,qBACA,oBACA,sBACD,SAAUC,EACTC,KACAC,IACAC,aACAC,YACAC,cAEAL,EAAE,eAAeM,GAAG,SAAS,eACrBC,GAAKP,EAAEQ,MAAMC,KAAK,MAEtBN,aAAaO,OAAO,CAChBC,KAAMR,aAAaS,MAAMC,YACzBC,MAAO,eACPC,KAAM,oBAGPC,MAAK,SAAUC,OACdA,MAAMC,kBAAkB,UACbD,MAAME,UACZb,GAAGF,YAAYgB,MAAM,eAKlBC,QAAU,CACVC,WALa,2CAMbC,KALS,IACHhB,KAMVN,KAAKuB,KAAK,CAACH,UAAU,GAAGI,MAAK,WACzBC,OAAOC,SAASC,KAAO5B,EAAE2B,UAAUE,KAAK,WACzCC,KAAKzB,aAAa0B,cAEzBd,MAAMe"}